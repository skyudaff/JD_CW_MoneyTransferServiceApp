# Курсовой проект "Сервис перевода денег"

## Описание проекта
Проект представляет собой REST-интерфейс для перевода денег с одной банковской карты на другую по заранее описанной [спецификации](https://github.com/netology-code/jd-homeworks/blob/master/diploma/MoneyTransferServiceSpecification.yaml).\
Все операции переводов записываются в конревой файл `log.txt` с указанием:
- даты и времени;
- карты, с которой было списание;
- карты зачисления;
- суммы;
- комиссии;
- результата операции, если был.

## Архитектура приложения
Приложение имеет многослойную архитектуру с разделением ответственности между различными компонентами:

- Controllers:\
`TransferControllerImpl` - отвечает за обработку HTTP-запросов для операций по переводу денег и подтверждению операций. 

- Data Transfer Objects:\
`Amount` - представляет сумму денег в определенной валюте.\
`Card` - представляет информацию о карте, включая номер, срок действия и CVV-код.\
`TransferConfirmation` - DTO для передачи данных о подтверждении операции.\
`TransferOperation` - DTO для передачи данных о переводе денег.

- Exceptions:\
`ErrorInputDataException` - исключение, выбрасываемое при неверных входных данных.\
`ErrorTransferDataException` - исключение, выбрасываемое при ошибках в данных о переводе.

- Exceptions Handler:\
`ExceptionsHandler` - глобальный обработчик исключений для перехвата и обработки исключений, возникающих в приложении. Возвращает соответствующие HTTP-ответы с информацией об ошибке.

- Logger:\
`TransferLogger` - компонент для логирования операций и ошибок в файл.

- Repository:\
`TransferRepositoryImpl` - реализация репозитория, который хранит информацию о картах и выполненных операциях по переводу денег.

- Services:\
`TransferServiceImpl` - содержит бизнес-логику для операций по переводу денег и их подтверждению. Использует TransferRepositoryImpl для взаимодействия с данными.

- Configuration:\
`WebConfig` - конфигурация Spring MVC, определяющая настройки CORS для контроллеров, связанных с операциями по переводу денег.

Также, некоторые параметры сконфигурированы через файл `application.properties`:
- logger.file.path, 
- transfer.commission, 
- verify.code,
- server.port,
- cross.origin.

## Реализация сервиса
- Серверная часть разработана на языке **Java** с использованием __Spring Boot__;
- Использован сборщик пакетов __Maven__;
- Модульное тестирование выполнено с использованием __JUnit__, __Mockito__;
- Добавлен интеграционный тест с использованием __Testcontainers__;
- Для запуска используются: `Dockerfile`, `docker-compose.yaml`;

## Интеграция с FRONT
Запуск сервиса осуществляется [по адресу](http://localhost:5500) в терминале, с помощью команды: `docker-compose up`.\
Заранее подготовленное демо веб-приложение (FRONT) доступно [по адресу](https://serp-ya.github.io/card-transfer/),  подключается к разработанному сервису без доработок и использует его функционал для перевода денег.